---
title : "[JavaScript] JavaScript - this"
excerpt: "JavaScriptì˜ this"

categories:
  - JavaScript
tags:
  - [JavaScript, class]

toc: true
toc_sticky: true

date: 2023-01-12
last_modified_at: 2022-01-12
---
<br>

## This

> JavaScriptì˜ thisë¥¼ ê³µë¶€í•´ë³´ì
> <a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/this">MDN</a>

### -. í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ë°©ë²•ì— ì˜í•´ ê²°ì •ëœë‹¤

```js
const car = {
  name: 'BMW',
  getName: function() {
      console.log(this)
  }
}
car.getName();  //{name: 'BMW', getName: function~}
// = car -> getName()

const globalCar = car.getName;
globalCar();  //Window~
// = getName()

const car2 = {
  name: 'BENZ',
  getName: car.getName
}

car2.getName();  //{name: 'BENZ', getName: function~}

```

### -. bind()

> <b>bind()</b> ë©”ì†Œë“œê°€ í˜¸ì¶œë˜ë©´ ìƒˆë¡œìš´ í•¨ìˆ˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ë°›ê²Œë˜ëŠ” ì²« ì¸ìì˜ valueë¡œëŠ” this í‚¤ì›Œë“œë¥¼ ì„¤ì •í•˜ê³ , ì´ì–´ì§€ëŠ” ì¸ìë“¤ì€ ë°”ì¸ë“œëœ í•¨ìˆ˜ì˜ ì¸ìˆ˜ì— ì œê³µë©ë‹ˆë‹¤.
> ì¦‰ í•¨ìˆ˜ê°€ ê°€ë¥´í‚¤ëŠ” thisë§Œ ë°”ê¿”ì£¼ê³  ê·¸ í•¨ìˆ˜ë¥¼ ë³µì‚¬í•´ ìƒˆë¡œìš´ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ë¦¬í„´ì‹œì¼œì£¼ëŠ” ê²ƒ <br />
> `func.bind(thisArg)(parama1, param2,...)`


```js
car2.getName(); //{name: 'BENZ', getName: funciton~} 
const boundCar = car2.getName.bind(car)
boundCar();  //{name: 'BMW', getName: function~}
```

#### -. call(), apply()

> <b>call()</b> ë©”ì†Œë“œëŠ” ì£¼ì–´ì§„ this ê°’ ë° ê°ê° ì „ë‹¬ëœ ì¸ìˆ˜ì™€ í•¨ê»˜ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.<br />
>  `func.call(thisArg, param1, param2,...)` <br />
> <b>apply()</b>ë©”ì†Œë“œëŠ” ì£¼ì–´ì§„ this ê°’ê³¼ ë°°ì—´ (ë˜ëŠ” ìœ ì‚¬ ë°°ì—´ ê°ì²´) ë¡œ ì œê³µë˜ëŠ” arguments ë¡œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤. <br />
> `func.apply(thisArg, [params])`

```js
car2.getName.call(car) //{name: 'BMW', getname: function~}
car2.getName.apply(car) //{name: 'BMW', getname: function~}
```

- ì„¸ê°€ì§€ ëª¨ë‘ thisë¥¼ ë°”ê¿€ ìˆ˜ ìˆë‹¤.
- applyëŠ” ì¸ìˆ˜ë¥¼ ë°°ì—´ë¡œ ë°›ëŠ” callê³¼ ê°™ë‹¤.


### -. í™”ì‚´í‘œ í•¨ìˆ˜

> ì „ì—­ ê³µê°„ì˜ this: ì „ì—­ ê°ì²´ <br />
> ë©”ì†Œë“œ í˜¸ì¶œ ì‹œ ë©”ì†Œë“œ ë‚´ë¶€ì˜ this: í•´ë‹¹ ë©”ì†Œë“œ í˜¸ì¶œ ê°ì²´ <br />
> í•¨ìˆ˜ í˜¸ì¶œ ì‹œ í•¨ìˆ˜ ë‚´ë¶€ì˜ this: <b>ì •ì˜ë˜ì§€ ì•ŠìŒ</b>

- ì§€ì •ë˜ì§€ ì•Šì€ thisëŠ” ìë™ìœ¼ë¡œ ì „ì—­ê°ì²´ë¥¼ ë°”ë¼ë³´ê¸°ì— í•¨ìˆ˜ ë‚´ë¶€ thisëŠ” ì „ê°ì²´ê°€ ë¨(JS ì„¤ê³„ìƒ ì˜¤ë¥˜) 
- cat.foo() -> foo2() -> ì „ì—­ê°ì²´ ë‚´ name ì¡´ì¬X -> undefined

```js
const cat = {
  name: 'meow',
  foo1: function() {
    const foo2 = function() {
      console.log(this.name);
    }
    foo2();
  }
};

cat.foo1();	// undefined
```
<br />

- í™”ì‚´í‘œ í•¨ìˆ˜ ë‚´ thisê°€ ì—†ê¸°ì— ìƒìœ„ í™˜ê²½ìœ¼ë¡œ ê±°ìŠ¬ëŸ¬ ì˜¬ë¼ê°€ë©° ê²€ìƒ‰(ë³€ìˆ˜ë¥¼ ì°¾ê±°ë‚˜ ìµœìƒìœ„ë¡œ ì˜¬ë¼ê°€ë©´ ë©ˆì¶¤)

> functionìœ¼ë¡œ ì„ ì–¸í•œ í•¨ìˆ˜ê°€ í˜¸ì¶œë°©ë²•(ë©”ì†Œë“œ or í•¨ìˆ˜ ìì²´)ì— ë”°ë¼ ë™ì ìœ¼ë¡œ thisê°€ ë°”ì¸ë”©ë˜ëŠ” ë°˜ë©´, í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” ì„ ì–¸ë  ì‹œì ì—ì„œì˜ ìƒìœ„ ìŠ¤ì½”í”„ê°€ thisë¡œ ë°”ì¸ë”©ë©ë‹ˆë‹¤. 


```js
const cat = {
  name: 'meow',
  foo1: function() {
    const foo2 = () => {
      console.log(this.name);
    }
    foo2();
  }
};

cat.foo1();	// meow
```

#### ğŸš¨ì£¼ì˜í•´ì„œ ì“°ì

##### -. ë©”ì†Œë“œ

> í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” ìì‹ ì˜ thisë¥¼ ê°€ì§€ê³ ("bind" ë°”ì¸ë“œ)ìˆì§€ ì•ŠìŠµë‹ˆë‹¤.

```js
const cat = {
  name: 'meow',
  callName: () => console.log(this.name)
}

cat.callName();	// undefined
```

##### -. ìƒì„±ì í•¨ìˆ˜

> í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” ìƒì„±ìë¡œì„œ ì‚¬ìš©ë  ìˆ˜ ì—†ìœ¼ë©° newì™€ í•¨ê»˜ ì‚¬ìš©í•˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤.

```js
var Foo = () => {};
var foo = new Foo(); // TypeError: Foo is not a constructor
``` 

##### -. ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¡œ ì„ ì–¸

> ì´ë¯¸ thisì˜ ê°’ì´ ì •í•´ì ¸ìˆëŠ” ì½œë°±í•¨ìˆ˜ì˜ ê²½ìš°, í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ê¸°ì¡´ ë°”ì¸ë”© ê°’ì´ ì‚¬ë¼ì§€ê³  ìƒìœ„ ìŠ¤ì½”í”„(ì´ ê²½ìš°ì—” ì „ì—­ ê°ì²´)ê°€ ë°”ì¸ë”©ë˜ê¸° ë•Œë¬¸ì— ì˜ë„í–ˆë˜ëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
const button = document.getElementById('myButton');

button.addEventListener('click', () => {
  console.log(this);	// Window
  this.innerHTML = 'clicked';
});

button.addEventListener('click', function() {
   console.log(this);	// button ì—˜ë¦¬ë¨¼íŠ¸
   this.innerHTML = 'clicked';
});
```